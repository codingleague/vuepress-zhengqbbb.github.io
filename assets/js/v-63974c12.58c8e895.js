"use strict";(self.webpackChunkqbenben_blog=self.webpackChunkqbenben_blog||[]).push([[85],{9900:(t,e,a)=>{a.r(e),a.d(e,{data:()=>o});const o={key:"v-63974c12",path:"/post/2022/01/11/husky/",title:"æ–°ç‰ˆ husky é…ç½®ä¸Git Hookså‰–æ",lang:"zh-CN",frontmatter:{layout:"Post",title:"æ–°ç‰ˆ husky é…ç½®ä¸Git Hookså‰–æ",description:"husky é…ç½®ä¸Git Hookså‰–æï¼Œå‰ç«¯å·¥ç¨‹åŒ– â€”â€” husky | Qbenben blog. Record my life | åœ¨ä»£ç ä¸–ç•Œé‡Œæ‰“æ€ªå‡çº§çš„å°é“ä»”",subtitle:"å‰ç«¯å·¥ç¨‹åŒ– â€”â€” husky",author:"qbenben",date:"2022-01-11T00:00:00.000Z",useHeaderImage:!0,headerImage:"https://tva3.sinaimg.cn/large/6ccee0e1gy1gyfzev5ju3j21kw0y6k0g.jpg",headerMask:"rgba(40, 57, 101, .4)",catalog:!0,permalinkPattern:"/post/:year/:month/:day/:slug/",tags:["å‰ç«¯","å‰ç«¯å·¥ç¨‹åŒ–"]},excerpt:"<p>åˆ†äº«è¿‘æœŸé…ç½® husky çš„ä¸€äº›å¿ƒå¾—</p>\n",headers:[{level:2,title:"(4.*) æ—§ç‰ˆç©æ³•",slug:"_4-æ—§ç‰ˆç©æ³•",children:[{level:4,title:"1. ä¸‹è½½ä¾èµ–",slug:"_1-ä¸‹è½½ä¾èµ–",children:[]},{level:4,title:"2. é…ç½®",slug:"_2-é…ç½®",children:[]}]},{level:2,title:"(7.*) æ–°ç‰ˆç©æ³•",slug:"_7-æ–°ç‰ˆç©æ³•",children:[{level:4,title:"1. ä¸‹è½½ä¾èµ–",slug:"_1-ä¸‹è½½ä¾èµ–-1",children:[]},{level:4,title:"2. é…ç½®",slug:"_2-é…ç½®-1",children:[]}]},{level:2,title:"æ–°ç‰ˆå‰–æ",slug:"æ–°ç‰ˆå‰–æ",children:[{level:4,title:"ä¸ºä»€ä¹ˆæŠ›å¼ƒä¼ ç»Ÿjsçš„å†™æ³•",slug:"ä¸ºä»€ä¹ˆæŠ›å¼ƒä¼ ç»Ÿjsçš„å†™æ³•",children:[]},{level:4,title:"æ–°ç‰ˆæ˜¯ä»€ä¹ˆåŸç†",slug:"æ–°ç‰ˆæ˜¯ä»€ä¹ˆåŸç†",children:[]},{level:4,title:"æ€»ç»“",slug:"æ€»ç»“",children:[]}]},{level:2,title:"æ—§ç‰ˆè¿ç§»æ–°ç‰ˆ",slug:"æ—§ç‰ˆè¿ç§»æ–°ç‰ˆ",children:[]},{level:2,title:"Git Hooks",slug:"git-hooks",children:[]}],git:{updatedTime:1645680843e3,contributors:[{name:"Zhengqbbb",email:"1074059947@qq.com",commits:10}]},readingTime:{minutes:8,words:1651},filePathRelative:"posts/husky.md"}},9394:(t,e,a)=>{a.r(e),a.d(e,{default:()=>u});var o=a(6252);const s=(0,o.uE)('<p>åˆ†äº«è¿‘æœŸé…ç½® husky çš„ä¸€äº›å¿ƒå¾—</p><h1 id="husky" tabindex="-1"><a class="header-anchor" href="#husky" aria-hidden="true">#</a> husky</h1><br><p align="center"><a target="_blank" href="https://github.com/typicode/husky">Github</a> Â· <a target="_blank" href="https://typicode.github.io/husky/#/">æ–‡æ¡£</a></p><hr><p>husky æ˜¯å‰ç«¯å·¥ç¨‹åŒ–ä¸å¯ç¼ºå°‘çš„å·¥å…·ï¼Œå®ƒæ”¯æŒæ·»åŠ é¡¹ç›®çš„ git hooks(å¯ä»¥ç†è§£å½“æˆ‘ä»¬ä½¿ç”¨ git å‘½ä»¤æ“ä½œæ—¶ä¼šè§¦å‘çš„é’©å­äº‹ä»¶)ï¼Œå¦‚æ­¤ä¸€æ¥æˆ‘ä»¬å°±èƒ½åœ¨æäº¤ä»£ç æ—¶:</p><p>é…åˆ <a href="https://github.com/conventional-changelog/commitlint" target="_blank" rel="noopener noreferrer">commitlint</a> | <a href="https://github.com/okonet/lint-staged" target="_blank" rel="noopener noreferrer">lint-staged</a> &amp; ESlint &amp; Stylelintï¼Œå¯¹<mark>æäº¤ä¿¡æ¯</mark>è¿›è¡Œæ£€æŸ¥ | è¿è¡Œæµ‹è¯• | æ£€æŸ¥ä»£ç æ ¼å¼ä¸æ˜¯å¦æŠ¥é”™ã€‚</p><br> æˆ‘è¿˜è®°å¾—åœ¨æˆ‘å®ä¹ çš„æ—¶å€™ï¼Œæˆ‘è€å¤§å°±ç»å¸¸ä¼šè¿›è¡Œå‰ç«¯å·¥ç¨‹åŒ–çš„å·¥ä½œï¼Œå°†æˆ‘ä»¬å‡ ä¸ªå®ä¹ ç”Ÿçš„ä»£ç è§„èŒƒå’Œå¼€å‘æµç¨‹ä¸¥æ ¼æŠŠæ§ï¼Œæ—¶é—´é•¿äº†å¯¹è¿™å‡ ä¸ªå‰ç«¯å·¥ç¨‹åŒ–å·¥å…·æ…¢æ…¢å°±ä¼šç†Ÿæ‚‰ã€‚è¿™æ°æ°æ˜¯ä¸€ä¸ªå¼€å‘å›¢é˜Ÿéœ€è¦çš„å¼€å‘è§„èŒƒã€‚è¿™å‡ å¤©æˆ‘ä¹Ÿéœ€è¦æ­å»ºä¸€ä¸ªæ–°çš„é¡¹ç›®ä½†æ˜¯å‘ç° husky çš„é…ç½®å’ŒåŸæ¥æœ‰å¾ˆå¤§çš„ä¸ä¸€æ ·ã€‚ <h2 id="_4-æ—§ç‰ˆç©æ³•" tabindex="-1"><a class="header-anchor" href="#_4-æ—§ç‰ˆç©æ³•" aria-hidden="true">#</a> (4.*) æ—§ç‰ˆç©æ³•</h2><hr><h4 id="_1-ä¸‹è½½ä¾èµ–" tabindex="-1"><a class="header-anchor" href="#_1-ä¸‹è½½ä¾èµ–" aria-hidden="true">#</a> 1. ä¸‹è½½ä¾èµ–</h4>',12),n=(0,o._)("div",{class:"language-bash ext-sh"},[(0,o._)("pre",{class:"language-bash"},[(0,o._)("code",null,[(0,o._)("span",{class:"token function"},"npm"),(0,o.Uk)(),(0,o._)("span",{class:"token function"},"install"),(0,o.Uk)(" -D husky@^4.3.0\n")])])],-1),c=(0,o._)("div",{class:"language-bash ext-sh"},[(0,o._)("pre",{class:"language-bash"},[(0,o._)("code",null,[(0,o._)("span",{class:"token function"},"yarn"),(0,o.Uk)(),(0,o._)("span",{class:"token function"},"add"),(0,o.Uk)(" -D husky@^4.3.0\n")])])],-1),i=(0,o.uE)('<h4 id="_2-é…ç½®" tabindex="-1"><a class="header-anchor" href="#_2-é…ç½®" aria-hidden="true">#</a> 2. é…ç½®</h4><blockquote><p>åœ¨ <mark>package.json</mark> ä¸­é…ç½® <code>husky</code> å±æ€§</p></blockquote><div class="language-json ext-json"><pre class="language-json"><code><span class="token punctuation">{</span>\n  <span class="token property">&quot;husky&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token property">&quot;hooks&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n      <span class="token property">&quot;pre-push&quot;</span><span class="token operator">:</span> <span class="token string">&quot;npm run test&quot;</span><span class="token punctuation">,</span>\n      <span class="token property">&quot;commit-msg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;commitlint --config -E HUSKY_GIT_PARAMS&quot;</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre></div><ul><li>è¿™æ ·åœ¨ä½ æ‰§è¡Œ <code>git commit</code> çš„æ—¶å€™å°±ä¼šè‡ªåŠ¨æ‰§è¡Œ <code>commitlint</code> å‘½ä»¤ã€‚<strong>å³</strong>æŠŠä½ çš„commitä¿¡æ¯èµ‹å€¼ç»™ <code>HUSKY_GIT_PARAMS</code> ä½œä¸ºå‚æ•°ä¼ å…¥<code>commitlint</code>å‘½ä»¤è¿›è¡Œæ ¡éªŒã€‚</li><li>è¿™é‡Œå¯ä»¥çœ‹å‡ºæ—§ç‰ˆä¸»è¦æ˜¯åˆ©ç”¨ <code>package.json</code> è¿›è¡Œgité’©å­ä¿¡æ¯è·å–ã€‚</li></ul><h2 id="_7-æ–°ç‰ˆç©æ³•" tabindex="-1"><a class="header-anchor" href="#_7-æ–°ç‰ˆç©æ³•" aria-hidden="true">#</a> (7.*) æ–°ç‰ˆç©æ³•</h2><hr><h4 id="_1-ä¸‹è½½ä¾èµ–-1" tabindex="-1"><a class="header-anchor" href="#_1-ä¸‹è½½ä¾èµ–-1" aria-hidden="true">#</a> 1. ä¸‹è½½ä¾èµ–</h4>',7),d=(0,o._)("div",{class:"language-bash ext-sh"},[(0,o._)("pre",{class:"language-bash"},[(0,o._)("code",null,[(0,o._)("span",{class:"token function"},"npm"),(0,o.Uk)(),(0,o._)("span",{class:"token function"},"install"),(0,o.Uk)(" -D husky\n")])])],-1),r=(0,o._)("div",{class:"language-bash ext-sh"},[(0,o._)("pre",{class:"language-bash"},[(0,o._)("code",null,[(0,o._)("span",{class:"token function"},"yarn"),(0,o.Uk)(),(0,o._)("span",{class:"token function"},"add"),(0,o.Uk)(" -D husky\n")])])],-1),l=(0,o.uE)('<h4 id="_2-é…ç½®-1" tabindex="-1"><a class="header-anchor" href="#_2-é…ç½®-1" aria-hidden="true">#</a> 2. é…ç½®</h4><blockquote><p>åœ¨ <mark>package.json</mark> ä¸­é…ç½® <code>scripts</code> æ·»åŠ å±æ€§</p></blockquote><div class="language-json ext-json"><pre class="language-json"><code><span class="token punctuation">{</span>\n  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token property">&quot;prepare&quot;</span><span class="token operator">:</span> <span class="token string">&quot;husky install&quot;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre></div><blockquote><p>æ–°ç‰ˆ husky æä¾›å‘½ä»¤æ¥æ·»åŠ  git é’©å­äº‹ä»¶ â€”â€” <code>husky add &lt;file&gt; [cmd]</code>ï¼Œå³æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤</p></blockquote><div class="language-bash ext-sh"><pre class="language-bash"><code>npx husky <span class="token function">add</span> .husky/commit-msg <span class="token string">&#39;npx --no-install commitlint --edit &quot;$1&quot;&#39;</span>\nnpx husky <span class="token function">add</span> .husky/pre-push <span class="token string">&quot;npm run test&quot;</span>\n</code></pre></div><ul><li><code>prepare</code> æ˜¯ <code>NPM</code> æ“ä½œçš„ç”Ÿå‘½å‘¨æœŸçš„ä¸€ç¯ï¼Œ<strong>å³</strong>å½“æˆ‘ä»¬æ‰§è¡Œ <code>npm install</code> æ—¶ä¼šæŒ‰ç…§ç”Ÿå‘½å‘¨æœŸä»¥æ­¤è§¦å‘ç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œåœ¨NPM7ï¼š<code>preinstall -&gt; install -&gt; postinstall -&gt; prepublish -&gt; preprepare -&gt; prepare -&gt; postprepare</code></li><li>è¿™é‡Œå¯ä»¥å‘ç° <code>commit-msg</code> å’Œ <code>pre-push</code> å’Œæ—§ç‰ˆé…ç½®ä¸­æœ‰ç‚¹çœ¼ç†Ÿï¼Œè¿™ä¸¤ä¸ªæ°æ°éƒ½æ˜¯æˆ‘ä»¬å°±æ˜¯æ‰§è¡Œgitå‘½ä»¤<mark>é’©å­äº‹ä»¶å</mark> <a href="#%E5%89%96%E6%9E%90git-hooks">Git Hooks</a></li></ul><h2 id="æ–°ç‰ˆå‰–æ" tabindex="-1"><a class="header-anchor" href="#æ–°ç‰ˆå‰–æ" aria-hidden="true">#</a> æ–°ç‰ˆå‰–æ</h2><hr><p><mark>git hooksä¸€å…±æœ‰ä¸¤ç§æ–¹å¼åˆ›å»ºï¼š</mark></p><ol><li>ç¬¬ä¸€ç§å°±æ˜¯æ—§ç‰ˆçš„åœ¨ <code>.git/hooks</code> æ–‡ä»¶å¤¹ä¸­åˆ›å»ºå¯¹åº”äº‹ä»¶åçš„è„šæœ¬æ–‡ä»¶</li><li>ç¬¬äºŒç§å°±æ˜¯å®šä¹‰ <code>hooksPath</code> é…ç½®æŒ‡å‘ hooks æ–‡ä»¶å¤¹</li></ol><h4 id="ä¸ºä»€ä¹ˆæŠ›å¼ƒä¼ ç»Ÿjsçš„å†™æ³•" tabindex="-1"><a class="header-anchor" href="#ä¸ºä»€ä¹ˆæŠ›å¼ƒä¼ ç»Ÿjsçš„å†™æ³•" aria-hidden="true">#</a> ä¸ºä»€ä¹ˆæŠ›å¼ƒä¼ ç»Ÿjsçš„å†™æ³•</h4><blockquote><p>ä½œè€…å†™çš„æ–‡ç« ï¼š<a href="https://blog.typicode.com/husky-git-hooks-javascript-config/" target="_blank" rel="noopener noreferrer">é“¾æ¥</a></p></blockquote><ol><li><strong>åˆ›å»ºäº†æ‰€æœ‰çš„ <code>git hooks</code></strong> ï¼šæ—§ç‰ˆæ­£æ˜¯ git hooks åˆ›å»ºæ–¹å¼çš„ç¬¬ä¸€ç§ <ul><li>å¥½å¤„ï¼šç”¨æˆ·ä¸éœ€è¦å…³å¿ƒ git hooksç±»å‹ï¼Œåªéœ€è¦åœ¨ <code>package.json</code> é…ç½®å‘½ä»¤å³å¯</li><li>åå¤„ï¼šæ¯æ¬¡æ‰§è¡Œ git æ“ä½œæ—¶æ‰€æœ‰çš„ <code>git hooks</code>éƒ½ä¼šæŒ¨ä¸ªæ‰§è¡Œ</li></ul></li><li><strong>æ²¡åŠæ³•æŒ‰éœ€å¼•å…¥ <code>git hooks</code></strong>ï¼šå½“ç”¨æˆ·å¯¹ <code>package.json</code> è¿›è¡Œæ·»åŠ æ“ä½œåï¼Œæ²¡åŠæ³•åŒæ­¥æ·»åŠ  <code>.git/hooks</code>å¯¹åº”çš„é’©å­æ–‡ä»¶ã€‚</li><li><strong>å¤ªå±€é™ï¼Œç”¨æˆ·è‡ªå®šä¹‰å›°éš¾</strong>ï¼šæ¯”å¦‚æˆ‘æœ‰éœ€æ±‚åœ¨å‘½ä»¤è¡Œå½“ä¸­åˆ©ç”¨é’©å­è¿›è¡Œæ„å»ºï¼Œç”Ÿæˆæ–‡ä»¶ï¼Œè¯»å–æ–‡ä»¶ä¿¡æ¯ç­‰éœ€è¦å¤§é‡ <code>shell</code> å‘½ä»¤æ—¶ï¼Œå¯¹äºä¸€ä¸ªå¤©å¤©æ¥è§¦ shell çš„æˆ‘è€Œè¨€åªèƒ½å†™å•ä¸€è„šæœ¬çš„ä¼ ç»Ÿçš„ <code>package.json</code>å†™æ³• å¤ªå±€é™äº†ï¼Œä¼šå¾ˆéš¾å—ã€‚</li></ol><blockquote><p>e.g: è¾“å‡ºä¸€äº›ä¿¡æ¯:</p></blockquote><p><img src="https://tva3.sinaimg.cn/large/6ccee0e1gy1gz4gj0f06oj21c20ragvr.jpg" alt="e.g-img"></p><details class="custom-container details"><summary>ä¸Šå›¾ç¤ºä¾‹ä»£ç </summary><div class="language-bash ext-sh"><pre class="language-bash"><code><span class="token shebang important">#!/bin/sh</span>\n<span class="token comment"># åœ¨æ–°ç‰ˆä¸­å¯ä»¥å¾ˆèˆ’æœçš„å†™ shell è„šæœ¬</span>\n<span class="token builtin class-name">.</span> <span class="token string">&quot;<span class="token variable"><span class="token variable">$(</span><span class="token function">dirname</span> <span class="token string">&quot;<span class="token variable">$0</span>&quot;</span><span class="token variable">)</span></span>/_/husky.sh&quot;</span>\n\n<span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token entity" title="\\n">\\n</span><span class="token entity" title="\\033">\\033</span>[1;32m%s <span class="token entity" title="\\033">\\033</span>[1;33m%s <span class="token entity" title="\\033">\\033</span>[1;32m%s<span class="token entity" title="\\033">\\033</span>[0m<span class="token entity" title="\\n">\\n</span>&quot;</span> <span class="token punctuation">\\</span>\n    <span class="token string">&quot;Â»Â»Â»&quot;</span> <span class="token punctuation">\\</span>\n    <span class="token string">&quot;commitlint checking...&quot;</span> <span class="token punctuation">\\</span>\n    <span class="token string">&quot;Â«Â«Â«&quot;</span>\n\n<span class="token function">yarn</span> commitlint --edit <span class="token string">&quot;<span class="token variable">$1</span>&quot;</span>\n</code></pre></div></details><h4 id="æ–°ç‰ˆæ˜¯ä»€ä¹ˆåŸç†" tabindex="-1"><a class="header-anchor" href="#æ–°ç‰ˆæ˜¯ä»€ä¹ˆåŸç†" aria-hidden="true">#</a> æ–°ç‰ˆæ˜¯ä»€ä¹ˆåŸç†</h4><ol><li>git config çš„<code>core.hooksPath</code>ã€‚åœ¨2016å¹´ <code>git 2.9</code> ç‰ˆæœ¬å¼•å…¥æ–°<a href="https://git-scm.com/docs/githooks#_description" target="_blank" rel="noopener noreferrer">feature</a>ï¼Œ<code>hooksPath</code>å±æ€§å¯ä»¥<mark>æ”¯æŒè®¾ç½® Git Hooks æ–‡ä»¶å¤¹æŒ‡å‘</mark>ã€‚æˆ‘ä»¬å¯ä»¥æ‰“å¼€ <code>.git/.config</code>æ–‡ä»¶çœ‹çœ‹ï¼š <img src="https://tvax3.sinaimg.cn/large/6ccee0e1gy1gz4glcb6tpj21k00e6n1j.jpg" alt="git config"></li><li>æ–°ç‰ˆé¡ºåˆ©å®‰è£…åæˆ‘ä»¬ä¼šå¾—åˆ°ä¸€ä¸ªæ–‡ä»¶å¤¹æ­£æ˜¯<code>.husky</code>ï¼š</li></ol><div class="language-bash ext-sh"><pre class="language-bash"><code>$  x <span class="token function">ls</span> -T .husky/ -a\n.husky\nâ”œâ”€â”€ _\nâ”‚  â”œâ”€â”€ .gitignore\nâ”‚  â””â”€â”€ husky.sh\nâ”œâ”€â”€ commit-msg\nâ””â”€â”€ pre-commit\n</code></pre></div><ol start="3"><li>ä»è¿™é‡Œå¼€å§‹ä»–çš„è®¾è®¡å·²ç»æ˜äº†ï¼š<mark>å®šä¹‰äº†Git Hooks æŒ‡å‘æ–‡ä»¶å¤¹åï¼Œæ¯å½“æˆ‘ä»¬ä½¿ç”¨ git å‘½ä»¤çš„æ‰§è¡Œæ—¶ä¼šå»å¯¹åº”æ–‡ä»¶å¤¹ä¸‹å¯»æ‰¾ä¸é’©å­äº‹ä»¶ååŒåçš„æ–‡ä»¶è¿›è¡Œsource</mark>ï¼Œè¿™ä¸ªè®¾è®¡å’Œæˆ‘ä»¬ <a href="https://x-cmd.com/guide/workspace.html" target="_blank" rel="noopener noreferrer">x-cmd</a> çš„workspace scriptè®¾è®¡å¾ˆåƒã€‚</li><li>è‡³äºæ–°ç‰ˆçš„commit-msgå‘½ä»¤ä¸­çš„ <code>$1</code> è¿›è¡Œè¾“å‡ºç¡®è®¤æ˜¯ <code>.git/COMMIT_EDITMSG</code> æ–‡ä»¶ï¼š <strong>å³</strong>æœ€è¿‘ä¸€æ¬¡çš„commit edit messageã€‚</li></ol>',20),p=(0,o.uE)('<h4 id="æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#æ€»ç»“" aria-hidden="true">#</a> æ€»ç»“</h4><ul><li>å…¶å®æ–°ç‰ˆè¿™ä¸ªè®¾è®¡å¯¹äºå°ç™½æ·»åŠ äº†ä¸€å®šéš¾åº¦ï¼Œä½†æ˜¯å¯¹äºé¡¹ç›®ä¸Šçš„è®¾è®¡æ”¾å¼€çš„å±€é™æ€§ã€‚huskyçš„ç›®çš„ä¹Ÿè¾¾åˆ°äº†ï¼š<strong>ä½œä¸ºé¡¹ç›®ç®¡ç†ä¸Šçš„ git hooks çš„å…¥å£</strong>ã€‚</li><li>ç«‹ä¸ªflagï¼Œæˆ‘ç›¸ä¿¡æˆ‘ä»¬X-Cmdå›¢é˜Ÿä¼šåœ¨ä¸è¿œçš„å°†æ¥æœ‰ä¸€å¥—æ–¹æ¡ˆå’Œä»–ç«äº‰ ğŸ˜</li></ul><h2 id="æ—§ç‰ˆè¿ç§»æ–°ç‰ˆ" tabindex="-1"><a class="header-anchor" href="#æ—§ç‰ˆè¿ç§»æ–°ç‰ˆ" aria-hidden="true">#</a> æ—§ç‰ˆè¿ç§»æ–°ç‰ˆ</h2><hr><ol><li>åˆ é™¤é¡¹ç›®å½“ä¸­çš„ <code>.git/hooks</code> æ–‡ä»¶å¤¹ã€</li><li>åˆ é™¤package.jsonçš„ <code>husky</code> å±æ€§</li><li>æ‰§è¡Œä¸Šé¢æ–°ç‰ˆçš„<a href="#_7-%E6%96%B0%E7%89%88%E7%8E%A9%E6%B3%95">æ“ä½œ</a></li></ol><h2 id="git-hooks" tabindex="-1"><a class="header-anchor" href="#git-hooks" aria-hidden="true">#</a> Git Hooks</h2><hr><blockquote><p>é™¤äº† <code>commit-msg</code> å’Œ <code>pre-commit</code> è¿˜æœ‰ä»€ä¹ˆgit hooks ï¼Ÿ <a href="https://git-scm.com/docs/githooks" target="_blank" rel="noopener noreferrer">æ–‡æ¡£</a></p></blockquote><table><thead><tr><th>Git Hook</th><th>è°ƒç”¨æ—¶æœº</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>pre-applypatch</td><td><code>git am</code>æ‰§è¡Œå‰</td><td></td></tr><tr><td>applypatch-msg</td><td><code>git am</code>æ‰§è¡Œå‰</td><td></td></tr><tr><td>post-applypatch</td><td><code>git am</code>æ‰§è¡Œå</td><td>ä¸å½±å“<code>git am</code>çš„ç»“æœ</td></tr><tr><td><mark>pre-commit</mark></td><td><code>git commit</code>æ‰§è¡Œå‰</td><td>å¯ä»¥ç”¨<code>git commit --no-verify</code>ç»•è¿‡</td></tr><tr><td><mark>commit-msg</mark></td><td><code>git commit</code>æ‰§è¡Œå‰</td><td>å¯ä»¥ç”¨<code>git commit --no-verify</code>ç»•è¿‡</td></tr><tr><td>post-commit</td><td><code>git commit</code>æ‰§è¡Œå</td><td>ä¸å½±å“<code>git commit</code>çš„ç»“æœ</td></tr><tr><td>pre-merge-commit</td><td><code>git merge</code>æ‰§è¡Œå‰</td><td>å¯ä»¥ç”¨<code>git merge --no-verify</code>ç»•è¿‡ã€‚</td></tr><tr><td>prepare-commit-msg</td><td><code>git commit</code>æ‰§è¡Œåï¼Œç¼–è¾‘å™¨æ‰“å¼€ä¹‹å‰</td><td></td></tr><tr><td>pre-rebase</td><td><code>git rebase</code>æ‰§è¡Œå‰</td><td></td></tr><tr><td>post-checkout</td><td><code>git checkout</code>æˆ–<code>git switch</code>æ‰§è¡Œå</td><td>å¦‚æœä¸ä½¿ç”¨<code>--no-checkout</code>å‚æ•°ï¼Œåˆ™åœ¨<code>git clone</code>ä¹‹åä¹Ÿä¼šæ‰§è¡Œã€‚</td></tr><tr><td>post-merge</td><td><code>git commit</code>æ‰§è¡Œå</td><td>åœ¨æ‰§è¡Œ<code>git pull</code>æ—¶ä¹Ÿä¼šè¢«è°ƒç”¨</td></tr><tr><td><mark>pre-push</mark></td><td><code>git push</code>æ‰§è¡Œå‰</td><td></td></tr><tr><td>pre-receive</td><td><code>git-receive-pack</code>æ‰§è¡Œå‰</td><td></td></tr><tr><td>update</td><td></td><td></td></tr><tr><td>post-receive</td><td><code>git-receive-pack</code>æ‰§è¡Œå</td><td>ä¸å½±å“<code>git-receive-pack</code>çš„ç»“æœ</td></tr><tr><td>post-update</td><td>å½“ <code>git-receive-pack</code>å¯¹ <code>git push</code> ä½œå‡ºååº”å¹¶æ›´æ–°ä»“åº“ä¸­çš„å¼•ç”¨æ—¶</td><td></td></tr><tr><td>...</td><td></td><td></td></tr></tbody></table><br><br><blockquote><p>I just try my best to make thing well, Could you give a <a href="https://github.com/Zhengqbbb/zhengqbbb.github.io" target="_blank" rel="noopener noreferrer">star â­</a> to encourage me ?</p></blockquote><blockquote><p>æˆ‘æ˜¯ Qbenbenï¼Œä¸€ä¸ªçˆ±æŠ˜è…¾åœ¨æ²‰æµ¸åœ¨ä»£ç ä¸–ç•Œæ‰“æ€ªå‡çº§çš„æ·±åœ³å°é“ä»”ï¼Œæ„Ÿè°¢æ‚¨çš„é˜…è¯»ã€‚<a href="https://github.com/Zhengqbbb" target="_blank" rel="noopener noreferrer">Github</a> Â· <a href="https://www.qbenben.com/" target="_blank" rel="noopener noreferrer">Blog</a></p></blockquote>',13),h={},u=(0,a(3744).Z)(h,[["render",function(t,e){const a=(0,o.up)("CodeGroupItem"),h=(0,o.up)("CodeGroup"),u=(0,o.up)("Mermaid");return(0,o.wg)(),(0,o.iD)(o.HY,null,[s,(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o.Wm)(a,{title:"NPM",active:""},{default:(0,o.w5)((()=>[n])),_:1}),(0,o.Wm)(a,{title:"YARN"},{default:(0,o.w5)((()=>[c])),_:1})])),_:1}),i,(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o.Wm)(a,{title:"NPM",active:""},{default:(0,o.w5)((()=>[d])),_:1}),(0,o.Wm)(a,{title:"YARN"},{default:(0,o.w5)((()=>[r])),_:1})])),_:1}),l,(0,o.Wm)(u,{id:"mermaid_64a56ef0","data-code":'flowchart LR\n    A["git commit"] --\x3eB["git config hooksPath"]\n    B["git config hooksPath"] --\x3eC["To find folder \'.husky\'"]\n    C["To find folder \'.husky\'"] --\x3e D["find \'pre-commit\'"]\n    D["find \'pre-commit\'"] --\x3eE["source \'pre-commit\'"]'}),p],64)}]])}}]);